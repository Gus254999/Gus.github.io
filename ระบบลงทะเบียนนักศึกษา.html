<!DOCTYPE html>
 <html lang="th">
 <head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <title>ระบบลงทะเบียนนักศึกษา</title>
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
   <style>
     body {
       background: linear-gradient(to right, #ff7c01, #ff7c01);
       font-family: 'Prompt', sans-serif;
     }
 
     .card {
       box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
       border-radius: 16px;
       border: none;
     }
 
     .form-control {
       border-radius: 12px;
     }
 
     .btn-success {
       border-radius: 12px;
       font-weight: bold;
     }
 
     .btn-warning, .btn-danger {
       border-radius: 8px;
     }
 
     .table {
       border-radius: 12px;
       overflow: hidden;
     }
 
     .table-dark {
       background-color: #000000 !important;
       color: white;
     }
 
     .input-group-text {
       border-radius: 12px 0 0 12px;
     }
 
     .form-title {
       font-size: 2.2rem;
       font-weight: bold;
       color: #000000;
       margin-bottom: 30px;
     }
 
     .highlight {
       background-color: #fff3cd !important;
     }
 
     /* Responsive */
     @media (max-width: 576px) {
       .form-title {
         font-size: 1.5rem;
       }
     }
   </style>
 </head>
 <body>
   <div class="container py-5">
     <h2 class="text-center form-title">ระบบลงทะเบียนนักศึกษา</h2>
 
     <!-- Form -->
     <div class="card p-4 mb-4">
       <form id="studentForm">
         <div class="row g-3">
           <div class="col-md-3">
             <input type="text" class="form-control" placeholder="รหัสนักศึกษา" id="studentId" required>
           </div>
           <div class="col-md-3">
             <input type="text" class="form-control" placeholder="ชื่อ" id="name" required>
           </div>
           <div class="col-md-3">
             <input type="text" class="form-control" placeholder="คณะ" id="faculty">
           </div>
           <div class="col-md-3">
             <input type="text" class="form-control" placeholder="สาขา" id="major">
           </div>
           <div class="col-md-9">
             <input type="text" class="form-control" placeholder="เบอร์โทร" id="phone">
           </div>
           <div class="col-md-3 d-grid">
             <button type="submit" class="btn btn-success">เพิ่มข้อมูล</button>
           </div>
         </div>
       </form>
     </div>
 
     <!-- Search -->
     <div class="input-group mb-4">
       <span class="input-group-text bg-dark text-white">ค้นหา</span>
       <input type="text" class="form-control" id="searchInput" placeholder="รหัส, ชื่อ, คณะ, สาขา">
     </div>
 
     <!-- Table -->
     <div class="table-responsive" style="max-height: 400px; overflow-y: auto;">
       <table class="table table-bordered text-center align-middle" id="studentTable">
         <thead class="table-dark">
           <tr>
             <th>รหัส</th>
             <th>ชื่อ</th>
             <th>คณะ</th>
             <th>สาขา</th>
             <th>เบอร์โทร</th>
             <th>จัดการ</th>
           </tr>
         </thead>
         <tbody>
           <!-- Student rows will appear here -->
         </tbody>
       </table>
     </div>
   </div>
 
   <script>
     const form = document.getElementById("studentForm");
     const table = document.getElementById("studentTable").getElementsByTagName('tbody')[0];
 
     form.addEventListener("submit", function(e) {
       e.preventDefault();
 
       const id = document.getElementById("studentId").value;
       const name = document.getElementById("name").value;
       const faculty = document.getElementById("faculty").value;
       const major = document.getElementById("major").value;
       const phone = document.getElementById("phone").value;
 
       const row = table.insertRow();
       row.innerHTML = `
         <td>${id}</td>
         <td>${name}</td>
         <td>${faculty}</td>
         <td>${major}</td>
         <td>${phone}</td>
         <td>
           <button class="btn btn-warning btn-sm" onclick="editRow(this)">แก้ไข</button>
           <button class="btn btn-danger btn-sm" onclick="deleteRow(this)">ลบ</button>
         </td>
       `;
 
       form.reset();
     });
 
     function deleteRow(btn) {
       const row = btn.parentElement.parentElement;
       row.remove();
     }
 
     function editRow(btn) {
       const row = btn.parentElement.parentElement;
       const cells = row.getElementsByTagName("td");
 
       document.getElementById("studentId").value = cells[0].innerText;
       document.getElementById("name").value = cells[1].innerText;
       document.getElementById("faculty").value = cells[2].innerText;
       document.getElementById("major").value = cells[3].innerText;
       document.getElementById("phone").value = cells[4].innerText;
 
       row.remove();
     }
 
     const searchInput = document.getElementById("searchInput");
     searchInput.addEventListener("keyup", function () {
       const filter = searchInput.value.toLowerCase();
       const rows = table.getElementsByTagName("tr");
 
       let firstMatch = null;
 
       for (let i = 0; i < rows.length; i++) {
         const cells = rows[i].getElementsByTagName("td");
         let match = false;
         for (let j = 0; j < 4; j++) {
           if (cells[j] && cells[j].innerText.toLowerCase().includes(filter)) {
             match = true;
             if (!firstMatch) firstMatch = rows[i];
             break;
           }
         }
         rows[i].style.display = match ? "" : "none";
       }
 
       if (firstMatch) {
         firstMatch.scrollIntoView({ behavior: "smooth", block: "center" });
         firstMatch.classList.add("highlight");
         setTimeout(() => {
           firstMatch.classList.remove("highlight");
         }, 1000);
       }
     });
   </script>
 </body>
 </html>